
# 值类型转换

```js
// 将值从一种类型转换为另一种类型通常称为类型转换，这是显示的情况；（也可称呼为显示强制类型转换）【能够从代码中看出哪些地方是显示强制类型转换】
// 隐式的情况称为强制类型转换。（也可称呼为隐式强制类型转换）【不那么明显，通常是某些操作产生的副作用】

var a = 42
var b = a + ""    // 隐式强制类型转换
var c = String(a) // 显式强制类型转换

```

# 字符串、数字和布尔值之间类型转换的基本规则

## toString()
```js
// 处理非字符串到字符串的强制类型转换
// 基本类型值的字符串化规则为：
null.toString()          // 'null'
undefined.toString()     // 'undefined'
true.toString()          // ’true‘

// 对普通对象来说，除非自行定义，否则 toString() [Object.prototype.toString()]返回内部属性[[Class]]的值，如[object Object]，然而，如果对象有自己的toString()方法，字符串化时就会调用该方法并使用其返回值

// 数组的默认 toString() 方法经过了重新定义，将所有单元字符串化以后再用","【英文逗号】连接起来：
var a = [1,2,3]
a.toString()             // '1,2,3'

// JSON字符串化
// JSON.stringify() 在将JSON对象序列化为字符串时也用到了 toString()
// 对于简单值来说，JSON字符串化和 toString() 的效果基本相同，只不过序列化的结果总是字符串:
JSON.stringify(42)      // '42'
JSON.stringify('42')    // ''42''
JSON.stringify(null)    // 'null'

// 所有安全的JSON值（JSON-safe）都可以使用 JSON.stringify() 字符串化，安全的JSON值是指能够呈现为有效JSON格式的值
// 不安全的JSON值：undefined、function、symbol和包含循环引用（对象之间相互引用，形成一个无限循环）的对象都不符合JSON结构标准
// JSON.stringify() 在对象中遇到 undefined、function、symbol时会自动将其忽略，在数组中会返回null（以保证单元位置不变）
// 如果对象中定义了 toJSON() 方法，JSON字符串化时会首先调用该方法，然后用它的返回值来进行序列化（如果要对含有非法JSON值的对象做字符串化，或者对象中的某些值无法被序列化时，就需要定义 toJSON() 方法来返回一个安全的JSON值）
```